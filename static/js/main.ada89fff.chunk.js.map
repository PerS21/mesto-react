{"version":3,"sources":["images/VectorLogo.svg","components/Header.js","images/Pencil.svg","images/Plus.svg","contexts/CurrentUserContext.js","utils/api.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","vectorLogo","alt","CurrentUserContext","React","createContext","api","baseUrl","token","this","_baseUrl","_token","_headers","authorization","res","ok","json","Promise","reject","status","fetch","headers","then","_checkResponse","user","name","link","method","body","JSON","stringify","cardId","about","avatar","id","like","putLike","deleteLike","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardClick","type","handleCardLike","length","handleCardDelete","Main","onEditAvatar","pencil","onEditProfile","onAddPlace","addPlace","cards","map","setCards","Footer","currentYear","Date","getFullYear","ImagePopup","onClose","PopupWithForm","isOpen","onSubmit","title","children","submitButtonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","required","minLength","maxLength","placeholder","onChange","target","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","fildPlace","setFildPlace","fildImg","setFildImg","onAddCard","App","cohort","setСurrentUser","getUser","catch","error","console","log","selectedCard","setSelectedCard","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","closeAllPopups","getCards","Provider","deleteCard","filter","changeLikeCardStatus","newCard","state","c","patchUserInfo","patchUserImg","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ada89fff.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/VectorLogo.bbe2a6ea.svg\";","import vectorLogo from \"../../src/images/VectorLogo.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={vectorLogo} alt=\"место\" className=\"header__img\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/Pencil.6c7bf054.svg\";","export default __webpack_public_path__ + \"static/media/Plus.bed8c136.svg\";","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","class Api {\r\n    constructor(baseUrl, token) {\r\n        this._baseUrl = baseUrl;\r\n        this._token = token;\r\n\r\n        this._headers = {\r\n            authorization: this._token,\r\n            'Content-Type': 'application/json'\r\n        }\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка ${res.status}`);\r\n    }\r\n\r\n    getCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n                headers: this._headers,\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    getUser() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n                headers: this._headers,\r\n            })\r\n            .then(this._checkResponse)\r\n            .then(user => {\r\n                return user\r\n            })\r\n    }\r\n\r\n    addCard(name, link) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n                method: 'POST',\r\n                headers: this._headers,\r\n                body: JSON.stringify({\r\n                    name: name,\r\n                    link: link,\r\n                })\r\n\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n                method: 'DELETE',\r\n                headers: this._headers,\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    patchUserInfo(name, about) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n                method: 'PATCH',\r\n                headers: this._headers,\r\n                body: JSON.stringify({\r\n                    name: name,\r\n                    about: about,\r\n                })\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    patchUserImg(avatar) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n                method: 'PATCH',\r\n                headers: this._headers,\r\n                body: JSON.stringify({\r\n                    avatar: avatar,\r\n                })\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    putLike(id) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n                method: 'PUT',\r\n                headers: this._headers,\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    deleteLike(id) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n                method: 'DELETE',\r\n                headers: this._headers,\r\n            })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    changeLikeCardStatus(id, like) {\r\n        if (like) {\r\n            return this.putLike(id)\r\n        } else {\r\n            return this.deleteLike(id)\r\n        }\r\n    }\r\n}\r\n\r\nconst api = new Api('https://mesto.nomoreparties.co/v1/cohort-25', 'da22e24c-dd01-4958-b7cb-8f4974dde69d');\r\nexport default api;","import { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport React from 'react';\r\nimport api from '../utils/api.js'\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n    const cardDeleteButtonClassName = (\r\n        `element__trash card__delete-button button ${isOwn ? 'element__trash_visible' : 'element__trash_hidden'}`\r\n    );\r\n\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n    const cardLikeButtonClassName = (\r\n        `element__heart ${isLiked ? 'element__heart_active' : 'element__heart_notActive'}`\r\n    );\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n\r\n    function handleClickDelte() {\r\n        props.handleCardDelete(props.card);\r\n    }\r\n\r\n    function handleCardLike() {\r\n        props.handleCardLike(props.card);\r\n    }\r\n\r\n    return (\r\n        <li className=\"element\">\r\n            <img src={props.card.link} alt={props.card.name} className=\"element__img\" onClick={handleClick} />\r\n            <div className=\"element__info\">\r\n                <h2 className=\"element__text\">{props.card.name}</h2>\r\n                <div>\r\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleCardLike}></button>\r\n                    <p className=\"element__heart-quantity\">{props.card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleClickDelte}></button>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default Card;","import pencil from \"../../src/images/Pencil.svg\";\r\nimport addPlace from \"../../src/images/Plus.svg\";\r\nimport React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);  \r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__profile-info\">\r\n          <button className=\"profile__avatar\" onClick={props.onEditAvatar}>\r\n            <img src={currentUser.avatar} alt=\"аватар\" className=\"profile__avatar-img\" />\r\n            <div className=\"profile__avatar-edit\">\r\n              <img\r\n                className=\"profile__avatar-edit-icon\"\r\n                src={pencil}\r\n                alt=\"Изменить\"\r\n              />\r\n            </div>\r\n          </button>\r\n          <div className=\"profile__text\">\r\n            <div className=\"profile__name-line\">\r\n              <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n              <button\r\n                type=\"button\"\r\n                className=\"profile__edit-button button\"\r\n                onClick={props.onEditProfile}\r\n              >\r\n                <img src={pencil} alt=\"Изменить\" />\r\n              </button>\r\n            </div>\r\n            <p className=\"profile__prof\">{currentUser.about}</p>\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button button\"\r\n          onClick={props.onAddPlace}\r\n        >\r\n          <img src={addPlace} alt=\"Добавить\" />\r\n        </button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        <ul className=\"elements__list\">\r\n          {props.cards.map((card) => {\r\n            return (\r\n              <Card card={card} setCards={props.setCards} onCardClick={props.onCardClick} key={card._id} handleCardDelete={props.handleCardDelete} handleCardLike={props.handleCardLike}/>\r\n            )\r\n          })}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  const currentYear = new Date().getFullYear();\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p>© {currentYear} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function ImagePopup(props) {\r\n  return (\r\n    (props.card !== null) && \r\n    <div className=\"popup imgPopup\">\r\n      <div className=\"popup__container popup__container_content-img\">\r\n        <img className=\"imgPopup__img\" src={props.card.link} alt={props.card.name} />\r\n        <p className=\"imgPopup__text\">{props.card.name}</p>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-button button imgPopup__close-button\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","function PopupWithForm(props) {\r\n  return (\r\n    props.isOpen && (\r\n    <div className={`popup ${props.name}-popup`}>\r\n      <div className=\"popup__container popup__container_content-form\">\r\n      <form name={`${props.name}-form`} className={`form ${props.name}-form`} onSubmit={props.onSubmit}>\r\n        <h2 className=\"form__title\">{props.title}</h2>\r\n        {props.children}\r\n        <button\r\n          type=\"submit\"\r\n          className={`form__button-save ${props.name}-form__button-save`}\r\n          >\r\n          {props.submitButtonText}\r\n          </button>\r\n        <button\r\n          type=\"button\"\r\n          className={`popup__close-button button ${props.name}-form__close-button`}\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </form>\r\n      </div>\r\n    </div>)\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, props.isOpen]);\r\n\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function onSubmit(e){\r\n        e.preventDefault();\r\n        props.onUpdateUser(name,description);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm title='Редактировать профиль' name='profile-edit' isOpen={props.isOpen} onClose={props.onClose} submitButtonText='Сохранить' onSubmit={onSubmit}>\r\n            <div className=\"form__inputs\">\r\n                <input\r\n                    value={name || ''} \r\n                    id=\"name\"\r\n                    required\r\n                    minLength=\"2\"\r\n                    maxLength=\"40\"\r\n                    name=\"fild_name\"\r\n                    type=\"text\"\r\n                    placeholder=\"Название\"\r\n                    className=\"form__input profile-edit-form__input-fild-name\"\r\n                    onChange={handleChangeName}\r\n                />\r\n                <span id=\"name-error\" className=\"form__input-error\"></span>\r\n                <input\r\n                    value={description || ''} \r\n                    id=\"about\"\r\n                    required\r\n                    minLength=\"2\"\r\n                    maxLength=\"200\"\r\n                    name=\"fild_about\"\r\n                    type=\"text\"\r\n                    placeholder=\"Проффесия\"\r\n                    className=\"form__input profile-edit-form__input-fild-about\"\r\n                    onChange={handleChangeDescription}\r\n                />\r\n                <span id=\"about-error\" className=\"form__input-error\"></span>\r\n            </div>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const avatarRef = React.useRef();\r\n\r\n    function onSubmit(e){\r\n        e.preventDefault();\r\n        props.onUpdateAvatar(avatarRef.current.value);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm title='Обновить аватар' name='profile-img-edit' isOpen={props.isOpen} onClose={props.onClose} submitButtonText='Сохранить' onSubmit={onSubmit}>\r\n            <div className=\"form__inputs\">\r\n                <input\r\n                    ref={avatarRef}\r\n                    id=\"avatar\"\r\n                    required\r\n                    name=\"fild_img\"\r\n                    type=\"url\"\r\n                    placeholder=\"Ссылка на картинку\"\r\n                    className=\"form__input profile-img-edit-popup__input-fild-link\"\r\n                />\r\n                <span id=\"avatar-error\" className=\"form__input-error\"></span>\r\n            </div>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;","import { useState } from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const [fildPlace, setFildPlace] = useState('');\r\n    const [fildImg, setFildImg] = useState('');\r\n\r\n    function handleChangeFildPlace(e) {\r\n        setFildPlace(e.target.value);\r\n    }\r\n\r\n    function handleChangeFildImg(e) {\r\n        setFildImg(e.target.value);\r\n    }\r\n\r\n\r\n\r\n    function onSubmit(e){\r\n        e.preventDefault();\r\n        props.onAddCard(fildPlace, fildImg);\r\n    }\r\n    \r\n    return (\r\n        <PopupWithForm title='Новое место' name='add-place' isOpen={props.isOpen} onClose={props.onClose} submitButtonText='Сохранить' onSubmit={onSubmit}>\r\n        <div className=\"form__inputs\">\r\n          <input\r\n            value={fildPlace}\r\n            id=\"place\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"30\"\r\n            name=\"fild_place\"\r\n            type=\"text\"\r\n            placeholder=\"Название\"\r\n            className=\"form__input add-place-form__input-fild-text\"\r\n            onChange={handleChangeFildPlace}\r\n          />\r\n          <span id=\"place-error\" className=\"form__input-error\"></span>\r\n          <input\r\n            value={fildImg}\r\n            id=\"img\"\r\n            required\r\n            name=\"fild_img\"\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            className=\"form__input add-place-form__input-fild-link\"\r\n            onChange={handleChangeFildImg}\r\n          />\r\n          <span id=\"img-error\" className=\"form__input-error\"></span>\r\n        </div>\r\n      </PopupWithForm>\r\n    );\r\n  }\r\n  \r\n  export default AddPlacePopup;","import { useState, useEffect } from 'react';\r\nimport \"../App.css\";\r\nimport Header from \"./Header.js\";\r\nimport Main from \"./Main.js\";\r\nimport Footer from \"./Footer.js\";\r\nimport ImagePopup from \"./ImagePopup.js\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport EditProfilePopup from \"./EditProfilePopup.js\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\r\nimport AddPlacePopup from \"./AddPlacePopup.js\";\r\n\r\n\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport api from '../utils/api.js';\r\n\r\n\r\nfunction App() {\r\n\r\n  const [currentUser, setСurrentUser] = useState({name: \"\", about: \"\", avatar: \"\", _id: \"\", cohort: \"\"});\r\n\r\n  useEffect(() => {\r\n    api.getUser().then((res) => setСurrentUser(res)).catch(error => console.log(error))\r\n  }, []);\r\n\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card)\r\n  }\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard(null);\r\n  }\r\n\r\n  function handleUpdateUser(name, description) {\r\n    api.patchUserInfo(name, description)\r\n      .then((res) => {\r\n        setСurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch(error => console.log(error))\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    api.patchUserImg(avatar)\r\n      .then((res) => {\r\n        setСurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch(error => console.log(error))\r\n  }\r\n\r\n  const [cards, setCards] = useState([]);\r\n\r\n  useEffect(() => {\r\n    api.getCards().then(res => setCards(res)).catch(error => console.log(error));\r\n  }, []);\r\n\r\n  function handleCardDelete(card) {\r\n    const cardId = card._id;\r\n\r\n    api.deleteCard(cardId)\r\n      .then(() => {\r\n        setCards(cards.filter(card => card._id !== cardId))\r\n      })\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  function handleAddPlaceSubmit(name, link) {\r\n    api.addCard(name, link)\r\n      .then((res) => {setCards([res, ...cards]); closeAllPopups()})\r\n      .catch(error => console.log(error));\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    \r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n    }).catch(error => console.log(error));\r\n}\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <div className=\"page__container\">\r\n          <Header />\r\n          <Main \r\n            onEditProfile={handleEditProfileClick} \r\n            onAddPlace={handleAddPlaceClick} \r\n            onEditAvatar={handleEditAvatarClick} \r\n            onCardClick={handleCardClick} \r\n            handleCardDelete={handleCardDelete} \r\n            handleCardLike={handleCardLike}\r\n            setCards={setCards} cards={cards} \r\n            />\r\n          <Footer />\r\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\r\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\r\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddCard={handleAddPlaceSubmit} />\r\n\r\n          <PopupWithForm title='Вы уверены?' name='delete-card' isOpen='' onClose={closeAllPopups} submitButtonText='Да' />\r\n\r\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider >\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App.js\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}