(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(4),i=n.n(a),r=(n(11),n(2)),o=(n(12),n.p+"static/media/VectorLogo.03b78ada.svg"),l=n(0);var d=function(){return Object(l.jsx)("header",{className:"header",children:Object(l.jsx)("img",{src:o,alt:"\u043c\u0435\u0441\u0442\u043e",className:"header__img"})})},u=n.p+"static/media/Pencil.8667ac4a.svg",m=n.p+"static/media/Plus.d86bb2ed.svg",j=n(5),h=n(6),b=new(function(){function e(t,n){Object(j.a)(this,e),this._baseUrl=t,this._token=n,this._headers={authorization:this._token,"Content-Type":"application/json"}}return Object(h.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))}},{key:"getCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{headers:this._headers}).then(this._checkResponse)}},{key:"getUser",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{headers:this._headers}).then(this._checkResponse).then((function(e){return e}))}},{key:"addCard",value:function(e,t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}},{key:"patchUserInfo",value:function(e,t){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._checkResponse)}},{key:"patchUserImg",value:function(e){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkResponse)}},{key:"putLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this._headers}).then(this._checkResponse)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkResponse)}}]),e}())("https://mesto.nomoreparties.co/v1/cohort-25","da22e24c-dd01-4958-b7cb-8f4974dde69d");var p=function(e){return Object(l.jsxs)("li",{className:"element",children:[Object(l.jsx)("img",{src:e.card.link,alt:e.card.name,className:"element__img",onClick:function(){e.onCardClick(e.card)}}),Object(l.jsxs)("div",{className:"element__info",children:[Object(l.jsx)("h2",{className:"element__text",children:e.card.name}),Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{type:"button",className:"element__heart"}),Object(l.jsx)("p",{className:"element__heart-quantity",children:e.card.likes.length})]})]}),Object(l.jsx)("button",{type:"button",className:"element__trash button"})]})};var _=function(e){var t=Object(c.useState)([]),n=Object(r.a)(t,2),s=n[0],a=n[1];Object(c.useEffect)((function(){b.getCards().then((function(e){return a(e)})).catch((function(e){return console.log(e)}))}),[]);var i=Object(c.useState)(""),o=Object(r.a)(i,2),d=o[0],j=o[1],h=Object(c.useState)(""),_=Object(r.a)(h,2),f=_[0],O=_[1],x=Object(c.useState)(""),v=Object(r.a)(x,2),N=v[0],g=v[1];return Object(c.useEffect)((function(){b.getUser().then((function(e){j(e.name),O(e.about),g(e.avatar)})).catch((function(e){return console.log(e)}))}),[]),Object(l.jsxs)("main",{className:"content",children:[Object(l.jsxs)("section",{className:"profile",children:[Object(l.jsxs)("div",{className:"profile__profile-info",children:[Object(l.jsxs)("button",{className:"profile__avatar",onClick:e.onEditAvatar,children:[Object(l.jsx)("img",{src:N,alt:"\u0430\u0432\u0430\u0442\u0430\u0440",className:"profile__avatar-img"}),Object(l.jsx)("div",{className:"profile__avatar-edit",children:Object(l.jsx)("img",{className:"profile__avatar-edit-icon",src:u,alt:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})})]}),Object(l.jsxs)("div",{className:"profile__text",children:[Object(l.jsxs)("div",{className:"profile__name-line",children:[Object(l.jsx)("h1",{className:"profile__name",children:d}),Object(l.jsx)("button",{type:"button",className:"profile__edit-button button",onClick:e.onEditProfile,children:Object(l.jsx)("img",{src:u,alt:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})})]}),Object(l.jsx)("p",{className:"profile__prof",children:f})]})]}),Object(l.jsx)("button",{type:"button",className:"profile__add-button button",onClick:e.onAddPlace,children:Object(l.jsx)("img",{src:m,alt:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]}),Object(l.jsx)("section",{className:"elements",children:Object(l.jsx)("ul",{className:"elements__list",children:s.map((function(t){return Object(l.jsx)(p,{card:t,onCardClick:e.onCardClick},t._id)}))})})]})};var f=function(){var e=(new Date).getFullYear();return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsxs)("p",{children:["\xa9 ",e," Mesto Russia"]})})};var O=function(e){return null!==e.card&&Object(l.jsx)("div",{className:"popup imgPopup",children:Object(l.jsxs)("div",{className:"popup__container popup__container_content-img",children:[Object(l.jsx)("img",{className:"imgPopup__img",src:e.card.link,alt:e.card.name}),Object(l.jsx)("p",{className:"imgPopup__text",children:e.card.name}),Object(l.jsx)("button",{type:"button",className:"popup__close-button button imgPopup__close-button",onClick:e.onClose})]})})};var x=function(e){return e.isOpen&&Object(l.jsx)("div",{className:"popup ".concat(e.name,"-popup"),children:Object(l.jsx)("div",{className:"popup__container popup__container_content-form",children:Object(l.jsxs)("form",{name:"".concat(e.name,"-form"),className:"form ".concat(e.name,"-form"),children:[Object(l.jsx)("h2",{className:"form__title",children:e.title}),e.children,Object(l.jsx)("button",{type:"submit",className:"form__button-save ".concat(e.name,"-form__button-save"),children:e.submitButtonText}),Object(l.jsx)("button",{type:"button",className:"popup__close-button button ".concat(e.name,"-form__close-button"),onClick:e.onClose})]})})})};var v=function(){var e=Object(c.useState)(null),t=Object(r.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(!1),i=Object(r.a)(a,2),o=i[0],u=i[1],m=Object(c.useState)(!1),j=Object(r.a)(m,2),h=j[0],b=j[1],p=Object(c.useState)(!1),v=Object(r.a)(p,2),N=v[0],g=v[1];function k(){g(!1),u(!1),b(!1),s(null)}return Object(l.jsx)("div",{className:"page",children:Object(l.jsxs)("div",{className:"page__container",children:[Object(l.jsx)(d,{}),Object(l.jsx)(_,{onEditProfile:function(){u(!0)},onAddPlace:function(){b(!0)},onEditAvatar:function(){g(!0)},onCardClick:function(e){s(e)}}),Object(l.jsx)(f,{}),Object(l.jsx)(x,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",name:"profile-edit",isOpen:o,onClose:k,submitButtonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:Object(l.jsxs)("div",{className:"form__inputs",children:[Object(l.jsx)("input",{id:"name",required:!0,minLength:"2",maxLength:"40",name:"fild_name",type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",className:"form__input profile-edit-form__input-fild-name"}),Object(l.jsx)("span",{id:"name-error",className:"form__input-error"}),Object(l.jsx)("input",{id:"about",required:!0,minLength:"2",maxLength:"200",name:"fild_about",type:"text",placeholder:"\u041f\u0440\u043e\u0444\u0444\u0435\u0441\u0438\u044f",className:"form__input profile-edit-form__input-fild-about"}),Object(l.jsx)("span",{id:"about-error",className:"form__input-error"})]})}),Object(l.jsx)(x,{title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",name:"profile-img-edit",isOpen:N,onClose:k,submitButtonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:Object(l.jsxs)("div",{className:"form__inputs",children:[Object(l.jsx)("input",{id:"avatar",required:!0,name:"fild_img",type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",className:"form__input profile-img-edit-popup__input-fild-link"}),Object(l.jsx)("span",{id:"avatar-error",className:"form__input-error"})]})}),Object(l.jsx)(x,{title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",name:"add-place",isOpen:h,onClose:k,submitButtonText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:Object(l.jsxs)("div",{className:"form__inputs",children:[Object(l.jsx)("input",{id:"place",required:!0,minLength:"2",maxLength:"30",name:"fild_place",type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",className:"form__input add-place-form__input-fild-text"}),Object(l.jsx)("span",{id:"place-error",className:"form__input-error"}),Object(l.jsx)("input",{id:"img",required:!0,name:"fild_img",type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",className:"form__input add-place-form__input-fild-link"}),Object(l.jsx)("span",{id:"img-error",className:"form__input-error"})]})}),Object(l.jsx)(x,{title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",name:"delete-card",isOpen:"",onClose:k,submitButtonText:"\u0414\u0430"}),Object(l.jsx)(O,{card:n,onClose:k})]})})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),s(e),a(e),i(e)}))};i.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root")),N()}},[[14,1,2]]]);
//# sourceMappingURL=main.e408daca.chunk.js.map